(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,a){},246:function(e,a,t){e.exports=t(660)},251:function(e,a,t){},255:function(e,a,t){},611:function(e,a,t){e.exports=t.p+"static/media/ecloudture_logo.b7bd702a.png"},654:function(e,a,t){e.exports=t.p+"static/media/ecloud.43f35f2d.svg"},660:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(28),l=t.n(r),i=(t(251),t(60)),c=t.n(i),s=t(222),m=t(223),d=t(244),u=t(224),p=t(245),g=t(24),h=t(130),b=(t(255),t(225)),f=t(9),w=t.n(f),x=t(226),v=t.n(x),E=t(228),y=t.n(E),S=t(131),_=t.n(S),k=t(229),C=t.n(k),j=t(132),H=t.n(j),z={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},O=(Object(g.a)({background:"linear-gradient(60deg, #ffa726, #fb8c00)"},{boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),Object(g.a)({background:"linear-gradient(60deg, #66bb6a, #43a047)"},{boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"}),Object(g.a)({background:"linear-gradient(60deg, #ef5350, #e53935)"},{boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"}),Object(g.a)({background:"linear-gradient(60deg, #26c6da, #00acc1)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"}),Object(g.a)({background:"linear-gradient(60deg, #ab47bc, #8e24aa)"},{boxShadow:"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)"}),Object(g.a)({background:"linear-gradient(60deg, #ec407a, #d81b60)"},{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"}),Object(g.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},z),{color:"#3C4858",textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}),N=(Object(g.a)({},O,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(g.a)({},O,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),function(e){return{warningTableHeader:{color:"#ff9800"},primaryTableHeader:{color:"#9c27b0"},dangerTableHeader:{color:"#f44336"},successTableHeader:{color:"#4caf50"},infoTableHeader:{color:"#00acc1"},roseTableHeader:{color:"#e91e63"},grayTableHeader:{color:"#999999"},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(g.a)({color:"inherit"},z,{fontSize:"1em"}),tableCell:Object(g.a)({},z,{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle"}),tableResponsive:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"}}});function D(e){var a=Object(b.a)({},e),t=a.classes,n=a.tableHead,r=a.tableData,l=a.tableHeaderColor;return o.a.createElement("div",{className:t.tableResponsive},o.a.createElement(v.a,{className:t.table},void 0!==n?o.a.createElement(y.a,{className:t[l+"TableHeader"]},o.a.createElement(_.a,null,n.map(function(e,a){return o.a.createElement(H.a,{className:t.tableCell+" "+t.tableHeadCell,key:a},e)}))):null,o.a.createElement(C.a,null,r.map(function(e,a){return o.a.createElement(_.a,{key:a},e.map(function(e,a){return o.a.createElement(H.a,{className:t.tableCell,key:a},e)}))}))))}D.defaultProps={tableHeaderColor:"gray"};var T,W,F,I=w()(N)(D),R=t(88),B=t(236),A=t.n(B),M=t(237),P=t.n(M),L=t(30),U=t.n(L),G=t(134),J=t.n(G),V=t(238),q=t.n(V),K=t(239),X=t.n(K),$=t(135),Q=t.n($),Y=t(240),Z=t.n(Y),ee=t(241),ae=t.n(ee),te=t(242),ne=t.n(te),oe=t(83),re=t.n(oe),le=t(235),ie=t.n(le),ce=t(89),se=t.n(ce),me=t(133),de=t.n(me),ue=t(230),pe=t(59),ge=t.n(pe),he=t(84),be=t.n(he),fe=t(85),we=t.n(fe),xe=t(232),ve=t.n(xe),Ee=t(233),ye=t.n(Ee),Se=t(234),_e=t.n(Se),ke=o.a.createElement("div",null,o.a.createElement(ge.a,{button:!0,component:"a",href:"https://www.ecloudvalley.com/about/"},o.a.createElement(be.a,null,o.a.createElement(ve.a,null)),o.a.createElement(we.a,{primary:"About us"})),o.a.createElement(ge.a,{button:!0,component:"a",href:"https://www.ecloudvalley.com/managed-services/"},o.a.createElement(be.a,null,o.a.createElement(ye.a,null)),o.a.createElement(we.a,{primary:"Services"}))),Ce=o.a.createElement("div",null,o.a.createElement(ge.a,{button:!0,component:"a",href:"https://www.ecloudvalley.com/contact_us/"},o.a.createElement(be.a,null,o.a.createElement(_e.a,null)),o.a.createElement(we.a,{primary:"Feedback"}))),je=t(86),He=t.n(je),ze=t(87),Oe={aws_project_region:"us-east-1",aws_content_delivery_bucket:"rekognition-demo.ecloudvalley.com",aws_content_delivery_bucket_region:"us-east-1",aws_content_delivery_url:"https://d3pmshzfi87uy0.cloudfront.net",aws_cognito_identity_pool_id:"us-east-1:0f57fc50-7fb3-489e-b696-73b782c7be6e",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_P2IhL44W5",aws_user_pools_web_client_id:"6vokq44gv9adnubetcq8mphu22",aws_cloud_logic_custom:[{name:"api6832f3b1",endpoint:"https://jzpx14qz5e.execute-api.us-east-1.amazonaws.com/Prod",region:"us-east-1"}],aws_user_files_s3_bucket:"image-pool-ecv",aws_user_files_s3_bucket_region:"us-east-1"};function Ne(e){return De.apply(this,arguments)}function De(){return(De=Object(h.a)(c.a.mark(function e(a){var t,n,o,r,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="api6832f3b1",n="/items",W=Date.now(),F=Math.floor(W/1e3),T=F.toString(),e.next=7,ze.Storage.put(T+".jpg",a).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)});case 7:return o={"Content-Type":"application/json"},r={image:T+".jpg"},console.log(r),l={body:r,headers:o},console.log(l),e.next=14,ze.API.post(t,n,l);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}t.n(ze).a.configure(Oe);var Te=Object(R.createMuiTheme)({typography:{useNextVariants:!0}}),We=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(d.a)(this,Object(u.a)(a).call(this))).toggleDrawer=function(a){return function(){e.setState({drawer_open:a})}},e.handleChange=function(a){e.setState({auth:a.target.checked})},e.handleMenu=function(a){e.setState({anchorEl:a.currentTarget})},e.handleClose=function(){e.setState({anchorEl:null})},e.setRef=function(a){e.webcam=a,console.log(a)},e.capture=Object(h.a)(c.a.mark(function a(){var t,n,o,r,l,i,s,m,d,u,p;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.webcam.getScreenshot(),n=e.webcam.getCanvas(),e.setState({videoSrc:t}),e.setState({image:n}),console.log(t),console.log("canvas: "+n),o=e.canvas.getContext("2d"),!0===e.state.size&&o.drawImage(n,0,0,240,320),e.state.mobile_horizon&&o.drawImage(n,0,0,320,240),e.state.fullSize&&o.drawImage(n,0,0,640,480),r=e.dataURItoBlob(t),console.log(r),e.setState({loading:!0}),a.prev=13,a.next=16,Ne(r);case 16:return l=a.sent,console.log(l),e.setState({rekognition_callback:l.body.FaceDetails[0]}),console.log(l.body.FaceDetails[0]),i=JSON.stringify(l.body.FaceDetails[0].AgeRange.Low),s=JSON.stringify(l.body.FaceDetails[0].AgeRange.High),m=(parseInt(i)+parseInt(s))/2,e.setState({age:m.toString()}),console.log(m),d=l.body.FaceDetails[0].Gender.Value,e.setState({gender:d}),console.log(d),"Female"===d&&(e.setState({age:i}),console.log("girl detect")),u=l.body.FaceDetails[0].Emotions[0].Type,e.setState({emotion:u}),console.log(u),(p=l.body.FaceDetails[0].Smile.Value)?e.setState({isSmile:"yes"}):e.setState({isSmile:"no"}),console.log("isSmile: "+p),e.setState({loading:!1}),console.log(l.label),a.next=39,e.setState({label_items:JSON.parse(l.label)});case 39:a.next=44;break;case 41:a.prev=41,a.t0=a.catch(13),console.log("error",a.t0);case 44:case"end":return a.stop()}},a,this,[[13,41]])})),e.dataURItoBlob=function(e){var a;a=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(a.length),o=0;o<a.length;o++)n[o]=a.charCodeAt(o);return new Blob([n],{type:t})},e.state={loading:!1,isHidden:!0,auth:!0,anchorEl:null,drawer_open:!1,videoSrc:null,image:null,rekognition_callback:null,age:null,gender:null,emotion:null,isSmile:null,label_items:null,size:!1,mobile_horizon:!1,fullSize:!1},e}return Object(p.a)(a,e),Object(m.a)(a,[{key:"resize",value:function(){console.log(window.innerWidth),this.setState({size:window.innerWidth<=480}),this.setState({mobile_horizon:window.innerWidth>480&&window.innerWidth<=760}),this.setState({fullSize:window.innerWidth>760})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize.bind(this)),this.resize()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,a,n,r,l,i=this,c=this.props.classes,s=this.state,m=s.auth,d=s.anchorEl,u=Boolean(d),p={facingMode:{exact:"user",minWidth:{min:320,ideal:1280},minHeight:{min:240,ideal:720},aspectRatio:1.777777778,frameRate:{max:30}}},g=o.a.createElement(R.MuiThemeProvider,{theme:Te},o.a.createElement("div",{className:c.list},o.a.createElement(re.a,null,ke),o.a.createElement(ie.a,null),o.a.createElement(re.a,null,Ce)));return null!=this.state.label_items?(console.log(this.state.label_items.Labels),e=this.state.label_items.Labels.map(function(e,a){return o.a.createElement(de.a,{key:a,className:c.chip,label:e.Name})})):e=o.a.createElement(de.a,{className:c.chip,label:"nothing for now"}),this.state.size&&(console.log("mobile event"),l=o.a.createElement(He.a,{screenshotFormat:"image/jpeg",ref:this.setRef,width:240,height:320,audio:!1,videoConstraints:p}),a=o.a.createElement("canvas",{ref:function(e){return i.canvas=e},width:240,height:320}),r=o.a.createElement(U.a,{noWrap:!0,variant:"h6"},"Take a photo here"),n=o.a.createElement(U.a,{noWrap:!0,variant:"h6"},"Detect your beautiful face")),this.state.mobile_horizon&&(l=o.a.createElement(He.a,{screenshotFormat:"image/jpeg",ref:this.setRef,width:320,height:240,audio:!1,videoConstraints:p}),a=o.a.createElement("canvas",{ref:function(e){return i.canvas=e},width:320,height:240}),r=o.a.createElement(U.a,{noWrap:!0,variant:"h6"},"Take a photo here"),n=o.a.createElement(U.a,{noWrap:!0,variant:"h6"},"Detect your beautiful face")),this.state.fullSize&&(l=o.a.createElement(He.a,{screenshotFormat:"image/jpeg",ref:this.setRef,width:640,height:480,audio:!1}),a=o.a.createElement("canvas",{ref:function(e){return i.canvas=e},width:640,height:480}),r=o.a.createElement(U.a,{noWrap:!0,variant:"h4"},"Take a photo here"),n=o.a.createElement(U.a,{noWrap:!0,variant:"h4"},"Detect your beautiful face")),o.a.createElement("div",{className:c.root},o.a.createElement(A.a,{position:"absolute",className:c.appBar},o.a.createElement(P.a,null,o.a.createElement(J.a,{className:c.menuButton,color:"inherit","aria-label":"Menu"},o.a.createElement(q.a,{onClick:this.toggleDrawer(!0)})),o.a.createElement(U.a,{variant:"h6",color:"inherit",className:c.grow},"eCloudvalley demo"),o.a.createElement("img",{src:t(611),alt:"icon",height:"10%",width:"10%"}),m&&o.a.createElement("div",null,o.a.createElement(J.a,{"aria-owns":u?"menu-appbar":null,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},o.a.createElement(X.a,null)),o.a.createElement(Z.a,{id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:this.handleClose},o.a.createElement(Q.a,{onClick:this.handleClose},"Profile"),o.a.createElement(Q.a,{onClick:this.handleClose},"My account"))))),o.a.createElement(ae.a,{open:this.state.drawer_open,onClose:this.toggleDrawer(!1),classes:{paper:c.drawerPaper}},o.a.createElement("div",{className:c.toolbar},o.a.createElement("img",{src:t(654),alt:"icon",height:"57",width:"75"})),o.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},g)),o.a.createElement("main",{className:c.content},o.a.createElement("div",{className:c.toolbar}),o.a.createElement(se.a,{container:!0,spacing:24},o.a.createElement(se.a,{item:!0,xs:6,className:c.videoFrame,align:"center"},r,o.a.createElement("hr",{style:{borderColor:"transparent"}}),o.a.createElement("div",{className:c.videoContainer},l),o.a.createElement("center",null,o.a.createElement(ne.a,{variant:"outlined",color:"secondary",className:c.button,size:"large",onClick:this.capture},"Click it"))),o.a.createElement(se.a,{item:!0,xs:6,className:c.videoFrame,margin:"auto",align:"center"},n,o.a.createElement("hr",{style:{borderColor:"transparent"}}),o.a.createElement("div",null,a),o.a.createElement("hr",{style:{borderColor:"transparent"}}),o.a.createElement(U.a,{variant:"h5"},"Analysis Result"),o.a.createElement(ue.PacmanLoader,{color:"#36D7B7",loading:this.state.loading}),o.a.createElement(I,{tableHeaderColor:"primary",tableHead:["Age","Gender","Emotions","Smile"],tableData:[[this.state.age,this.state.gender,this.state.emotion,this.state.isSmile]]}),o.a.createElement("hr",{style:{borderColor:"transparent"}}),o.a.createElement(U.a,{variant:"h5"},"Scene detection"),e))))}}]),a}(o.a.Component);We.defaultProps={tableHeaderColor:"gray"};var Fe=Object(R.withStyles)(function(e){return{root:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex",useNextVariants:!0},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},appBar:{backgroundColor:"#000000",zIndex:e.zIndex.drawer+1},drawerPaper:{position:"relative",width:240},list:{width:250},fullList:{width:"auto"},content:{flexGrow:1,padding:3*e.spacing.unit,minWidth:0},toolbar:Object(g.a)({display:"flex",alignItems:"center",padding:"0 8px",marginLeft:"auto",marginRight:"auto"},e.mixins.toolbar),videoFrame:{display:"block",maxWidth:"100%",maxHeight:"100%"},button:{margin:4*e.spacing.unit,textTransform:"none",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),fontSize:16},chip:{margin:e.spacing.unit/2},videoContainer:{width:"100%",video:{minWidth:"100%",minHeight:"100%",width:"auto",height:"auto"}}}})(We);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[246,2,1]]]);
//# sourceMappingURL=main.535a0727.chunk.js.map