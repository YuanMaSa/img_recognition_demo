{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OAuthButton = undefined;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nexports.default = withOAuth;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _core = require('@aws-amplify/core');\n\nvar _auth = require('@aws-amplify/auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _AmplifyUITheme = require('../../Amplify-UI/Amplify-UI-Theme');\n\nvar _AmplifyUITheme2 = _interopRequireDefault(_AmplifyUITheme);\n\nvar _ui = require('@aws-amplify/ui');\n\nvar _AmplifyUIComponentsReact = require('../../Amplify-UI/Amplify-UI-Components-React');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar logger = new _core.ConsoleLogger('withOAuth');\n\nfunction withOAuth(Comp, options) {\n  return function (_Component) {\n    (0, _inherits3.default)(_class, _Component);\n\n    function _class(props) {\n      (0, _classCallCheck3.default)(this, _class);\n\n      var _this = (0, _possibleConstructorReturn3.default)(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n      _this.signIn = _this.signIn.bind(_this);\n      return _this;\n    }\n\n    (0, _createClass3.default)(_class, [{\n      key: 'signIn',\n      value: function signIn() {\n        if (!_auth2.default || typeof _auth2.default.configure !== 'function') {\n          throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n        }\n\n        var config = this.props.oauth_config || options || _auth2.default.configure().oauth;\n\n        logger.debug('withOAuth configuration', config);\n        var domain = config.domain,\n            redirectSignIn = config.redirectSignIn,\n            redirectSignOut = config.redirectSignOut,\n            responseType = config.responseType;\n        var options = config.options || {};\n\n        var url = 'https://' + domain + '/login?redirect_uri=' + redirectSignIn + '&response_type=' + responseType + '&client_id=' + (options.ClientId || _auth2.default.configure().userPoolWebClientId);\n\n        window.location.assign(url);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(Comp, (0, _extends3.default)({}, this.props, {\n          OAuthSignIn: this.signIn\n        }));\n      }\n    }]);\n    return _class;\n  }(_react.Component);\n}\n\nvar Button = function Button(props) {\n  return _react2.default.createElement(_AmplifyUIComponentsReact.SignInButton, {\n    id: _ui.oAuthSignInButton,\n    onClick: props.OAuthSignIn,\n    theme: props.theme || _AmplifyUITheme2.default,\n    variant: 'oAuthSignInButton'\n  }, _react2.default.createElement(_AmplifyUIComponentsReact.SignInButtonContent, {\n    theme: props.theme || _AmplifyUITheme2.default\n  }, _core.I18n.get(props.label || 'Sign in with AWS')));\n};\n\nvar OAuthButton = exports.OAuthButton = withOAuth(Button);","map":null,"metadata":{},"sourceType":"script"}